<div class="container">
  <div class="controls">
    <h1>Favorite Trials</h1>
    <mat-button-toggle-group [(ngModel)]="viewMode" aria-label="View mode">
      <mat-button-toggle value="card" aria-label="Card view">
        <mat-icon>grid_view</mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="list" aria-label="List view">
        <mat-icon>view_list</mat-icon>
      </mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <ng-container *ngIf="!loading">
    <div [class]="viewMode === 'card' ? 'trials-grid' : 'trials-list'">
      <app-trial-card
        *ngFor="let trial of favorites"
        [trial]="trial"
        [viewMode]="viewMode"
        (favoriteToggled)="removeFavorite($event)"
      ></app-trial-card>
    </div>

    <div class="no-favorites" *ngIf="favorites.length === 0">
      <p>You haven't added any trials to your favorites yet.</p>
    </div>
  </ng-container>

  <div class="loading" *ngIf="loading">
    <mat-spinner diameter="40"></mat-spinner>
  </div>
</div>
