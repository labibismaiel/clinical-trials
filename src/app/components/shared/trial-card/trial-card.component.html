<ng-container [ngSwitch]="viewMode">
  <!-- Card View -->
  <mat-card *ngSwitchCase="'card'" class="trial-card" (click)="viewTrialDetails()">
    <mat-card-header>
      <mat-card-title>{{ trial.briefTitle }}</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="trial-details">
        <div class="detail-row">
          <span class="label">Status:</span>
          <span class="value">{{ trial.overallStatus }}</span>
        </div>
        <div class="detail-row" *ngIf="trial.phase">
          <span class="label">Phase:</span>
          <span class="value">{{ trial.phase }}</span>
        </div>
        <div class="detail-row" *ngIf="trial.condition">
          <span class="label">Condition:</span>
          <span class="value">{{ trial.condition }}</span>
        </div>
        <div class="detail-row" *ngIf="trial.enrollment">
          <span class="label">Enrollment:</span>
          <span class="value">{{ trial.enrollment }} participants</span>
        </div>
      </div>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-icon-button (click)="toggleFavorite($event)">
        <mat-icon [class.favorite]="trial.isFavorite">
          {{ trial.isFavorite ? 'favorite' : 'favorite_border' }}
        </mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>

  <!-- List View -->
  <mat-card *ngSwitchCase="'list'" class="trial-list-item" (click)="viewTrialDetails()">
    <div class="trial-content">
      <div class="trial-header">
        <h3>{{ trial.briefTitle }}</h3>
      </div>
      <div class="trial-info">
        <div class="info-item">
          <span class="label">Status:</span>
          <span class="value status">{{ trial.overallStatus }}</span>
        </div>
        <div class="info-item" *ngIf="trial.phase">
          <span class="label">Phase:</span>
          <span class="value">{{ trial.phase }}</span>
        </div>
        <div class="info-item" *ngIf="trial.condition">
          <span class="label">Condition:</span>
          <span class="value">{{ trial.condition }}</span>
        </div>
      </div>
    </div>
    <div class="trial-actions">
      <button mat-icon-button (click)="toggleFavorite($event)">
        <mat-icon [class.favorite]="trial.isFavorite">
          {{ trial.isFavorite ? 'favorite' : 'favorite_border' }}
        </mat-icon>
      </button>
    </div>
  </mat-card>
</ng-container>
